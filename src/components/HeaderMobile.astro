<header id="mobile-header" class="flex flex-row h-[8.33vh] fixed top w-full z-50 transition-colors duration-300">
	<div class="flex w-screen items-center justify-between px-4 bg-transparent">
		<img src="/assets/logo.svg" alt="JSPC - Jesus Posada" width="110" height="50"/>

		<button id="menu-toggle" class="flex flex-col gap-1.5 p-2" aria-label="Open menu">
			<span class="block w-6 h-0.5 bg-current"></span>
			<span class="block w-6 h-0.5 bg-current"></span>
			<span class="block w-6 h-0.5 bg-current"></span>
		</button>
	</div>
</header>

<div id="mobile-menu" class="fixed inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 pt-[8.33vh]">
	<nav class="flex flex-col gap-4 p-8 font-mono text-lg">
		<a href="/" class="hover:underline cv-link">~></a>
		<a href="/about" class="hover:underline cv-link">/home/about.md</a>
		<a href="/projects" class="hover:underline cv-link">/projects/*</a>
		<a href="/experience" class="hover:underline cv-link">/experience.md</a>
		<a href="mailto:posada@jspc.dev" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-center w-fit">Hire me</a>
		<a href="#" class="hover:underline cv-link">[Download CV]</a>
	</nav>
</div>

<script>
	function initHeader() {
		const header = document.getElementById('mobile-header');
		const menuToggle = document.getElementById('menu-toggle');
		const mobileMenu = document.getElementById('mobile-menu');

		if (!header || !menuToggle || !mobileMenu) return;

		const updateHeader = () => {
			if (window.scrollY > 10) {
				header.classList.add('bg-white', 'shadow-md');
				header.classList.remove('bg-transparent');
			} else {
				header.classList.remove('bg-white', 'shadow-md');
				header.classList.add('bg-transparent');
			}
		};

		window.addEventListener('scroll', updateHeader);
		updateHeader();

		menuToggle.addEventListener('click', () => {
			mobileMenu.classList.toggle('translate-x-full');
			document.body.classList.toggle('overflow-hidden');
		});
	}

	document.addEventListener('astro:page-load', initHeader);
</script>